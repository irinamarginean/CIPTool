import * as React from 'react';
import classNames from 'classnames';

class ProgressIndicatorProps {
  type: string;
  progressId?: string;
  progress?: number;
}

/**
 * @name        a-progress-indicator
 * @type        atom
 *
 * @param       type          Type of indicator. Either determinate or indeterminate
 * @param       progressId    identifier for a determinate progress indicator
 * @param       progress      Progress of the indicator
 *
 * @description
 * representation of a progress indicator
 */

const ProgressIndicator: React.FunctionComponent<ProgressIndicatorProps> = ({
  type,
  progressId,
  progress,
}: ProgressIndicatorProps) => {
  const progressIndicatorTypeClass = classNames('a-progress-indicator', {
    [`-${type}`]: type,
  });
  const progressValue: number = progress != null ? progress : 0;
  const progressStyle = { width: `${progressValue}%`, };
  if (type === 'determinate') {
    return (
      <div className={progressIndicatorTypeClass} id={progressId} role="progressbar">
        <div
          className="a-progress-indicator__inner-bar"
          style={progressStyle}
        />
      </div>
    );
  }
  return (
    <div className={progressIndicatorTypeClass} role="progressbar">
      <div className="a-progress-indicator__anim-bar">
        <div className="a-progress-indicator__inner-bar" />
      </div>
    </div>
  );
};

export { ProgressIndicator, ProgressIndicatorProps };
