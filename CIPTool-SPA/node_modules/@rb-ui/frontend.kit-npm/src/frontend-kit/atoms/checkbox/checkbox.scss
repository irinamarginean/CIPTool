@mixin checkbox-icon {
  display: inline-block;
  position: absolute;
  height: rem(8px);
  width: rem(15px);
  content: '';
  bottom: 0;
  left: 0;
}

/* stylelint-disable selector-no-qualifying-type */
.a-checkbox {
  height: rem(24px);
  position: relative;

  label {
    position: relative;
    left: 0;
    margin: 0;
    line-height: 1.5;
    font-size: rem(16px);
    padding-left: rem(8px);
    display: inline-flex;
    white-space: nowrap;
    align-items: center;

    &::before {
      background-color: var(--bosch-gray-80);
      content: '';
      display: inline-block;
      height: rem(24px);
      left: rem(-8px);
      position: relative;
      width: rem(24px);

      @include background-secondary {
        background-color: var(--bosch-gray-75);
      }

      @include background-tertiary {
        background-color: var(--bosch-gray-80);
      }
    }
  }

  input[type='checkbox'] {
    width: 0;
    opacity: 0;

    // Cursors Definitions
    &:hover + label,
    &:active + label {
      cursor: pointer;
    }

    &:disabled + label {
      cursor: default;
      color: var(--bosch-gray-90);

      @include background-secondary {
        color: var(--bosch-gray-75);
      }

      @include background-tertiary {
        color: var(--bosch-gray-80);
      }
    }

    // Default Icon Rules
    &:checked + label::after {

      @include checkbox-icon;

      transform-origin: left bottom;
      border-left: rem(2px) solid var(--bosch-white);
      border-bottom: rem(2px) solid var(--bosch-white);
      transform: translateX(rem(9.5px)) translateY(rem(-5.5px)) rotate(-45deg);
    }

    // unselected state
    &:hover + label::before {
      background-color: var(--bosch-gray-70);

      @include background-secondary {
        background-color: var(--bosch-gray-65);
      }

      @include background-tertiary {
        background-color: var(--bosch-gray-70);
      }
    }

    &:active + label::before {
      background-color: var(--bosch-gray-60);

      @include background-secondary {
        background-color: var(--bosch-gray-55);
      }

      @include background-tertiary {
        background-color: var(--bosch-gray-60);
      }
    }

    &:disabled + label::before {
      background-color: var(--bosch-gray-90);
      pointer-events: none;


      @include background-secondary {
        background-color: var(--bosch-gray-75);
      }

      @include background-tertiary {
        background-color: var(--bosch-gray-80);
      }
    }

    // selected state
    &:checked + label::before {
      background-color: var(--bosch-blue-50);
    }

    &:checked:hover + label::before {
      background-color: var(--bosch-blue-40);
    }

    &:checked:active + label::before {
      background-color: var(--bosch-blue-30);
    }

    &:checked:disabled {
      + label::before {
        background-color: var(--bosch-blue-90);

        @include background-secondary {
          background-color: var(--bosch-blue-85);
        }

        @include background-tertiary {
          background-color: var(--bosch-blue-90);
        }
      }

      + label::after {
        border-left: rem(2px) solid var(--bosch-blue-70);
        border-bottom: rem(2px) solid var(--bosch-blue-70);


        @include background-secondary {
          border-left: rem(2px) solid var(--bosch-blue-65);
          border-bottom: rem(2px) solid var(--bosch-blue-65);
        }

        @include background-tertiary {
          border-left: rem(2px) solid var(--bosch-blue-70);
          border-bottom: rem(2px) solid var(--bosch-blue-70);
        }
      }
    }
  }

  &--indeterminate input[type='checkbox'],
  input[type='checkbox']:indeterminate {
    + label::before {
      background: var(--bosch-blue-50);
    }

    /* stylelint-disable no-descending-specificity */
    + label::after {
      // Indeterminate Icon
      @include checkbox-icon;

      border-left: 0;
      border-bottom: rem(2px) solid var(--bosch-white);
      transform: translateX(rem(4px)) translateY(rem(-11px));
      width: rem(16px);
    }

    &:disabled {
      + label::before {
        background-color: var(--bosch-blue-90);

        @include background-secondary {
          background-color: var(--bosch-blue-85);
        }

        @include background-tertiary {
          background-color: var(--bosch-blue-90);
        }
      }

      + label::after {
        border-bottom: rem(2px) solid var(--bosch-blue-70);


        @include background-secondary {
          border-bottom: rem(2px) solid var(--bosch-blue-65);
        }

        @include background-tertiary {
          border-bottom: rem(2px) solid var(--bosch-blue-70);
        }
      }
    }

    &:hover + label::before {
      background-color: var(--bosch-blue-40);
    }

    &:active + label::before {
      background-color: var(--bosch-blue-30);
    }
  }


  .a-ui-icon {
    pointer-events: none;
    position: absolute;
    right: rem(12px);
    display: none;
  }

  &.-success,
  &.-warning,
  &.-error {
    .a-ui-icon {
      display: inline-block;
    }
  }

  &.-success {
    .a-ui-icon {

      @extend .a-ui-icon--ui-ic-ok;
    }
  }


  &.-warning {
    .a-ui-icon {

      @extend .a-ui-icon--ui-ic-warning;
    }
  }

  &.-error {
    .a-ui-icon {

      @extend .a-ui-icon--ui-ic-error;
    }
  }
}
