.m-lightbox {
  .a-box {
    display: flex;
    flex-direction: column;
    position: relative;
  }

  &__closeBar {
    display: flex;
    width: 100%;
    background-color: var(--bosch-white);
    height: 3rem;
    min-height: 3rem;
  }

  .a-button--close {
    margin-left: auto;
  }

  .a-image {
    flex-direction: column;
    overflow: hidden;
    display: none;

    .-visible {
      display: block;
      height: calc(100% - 6rem);
    }
  }

  .a-image__ratioWrapper {
    padding-top: 0;
  }

  .a-image img {
    position: inherit;
    width: 100%;
    height: 100%;
  }

  figcaption {
    bottom: 3rem;
    background-color: var(--bosch-white);
    margin: 0;
    padding: 0.94rem 1rem;
    font-size: rem(12px);
    padding-right: calc(100% - 40rem);
    width: 100%;
    min-height: 3rem;
    position: absolute;
  }

  .expanded {
    height: auto;
    overflow: hidden;
    overflow-y: hidden;
  }

  .collapsed {
    height: 3rem;
    overflow: hidden;
    overflow-y: hidden;

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 90%);
      width: 100%;
      height: 2em;
    }
  }

  &__controlBar {
    display: flex;
    width: 100%;
    height: 3rem;
    min-height: 3rem;
    background-color: var(--bosch-white);
    font-size: rem(12px);
    align-items: center;
    margin-bottom: auto;
    position: absolute;
    bottom: 0;

    &__counter {
      background-color: var(--bosch-white);
      height: 3rem;
      padding-left: 1rem;
      padding-right: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
      width: auto;
    }


    &__collapseBtn {
      padding: 0.75rem;
      margin: auto;
      cursor: pointer;

      &__collapse {
        background-image: url('./basics/icons/sprite/sprite.svg');

        @extend .a-ui-icon--ui-ic-up;
      }

      &__collapse:hover {
        background-image: url('./basics/icons/sprite/sprite.svg');

        @extend .a-ui-icon--ui-ic-up-hover;
      }

      &__expand {
        background-image: url('./basics/icons/sprite/sprite.svg');

        @extend .a-ui-icon--ui-ic-down;
      }

      &__expand:hover {
        background-image: url('./basics/icons/sprite/sprite.svg');

        @extend .a-ui-icon--ui-ic-down-hover;
      }
    }

    &__btnWrapper {
      display: flex;
      background-color: white;
      height: 3rem;
      width: auto;
    }

    &__nextBtn {
      padding: 0.75rem;
      background-color: white;
      cursor: pointer;
    }

    &__next {
      background-image: url('./basics/icons/sprite/sprite.svg');

      @extend .a-ui-icon--ui-ic-right;

      &:hover {

        @extend .a-ui-icon--ui-ic-right-hover;
      }

      &--disabled {
        background-image: url('./basics/icons/sprite/sprite.svg');

        @extend .a-ui-icon--ui-ic-right-disabled;
      }
    }

    &__backBtn {
      padding: 0.75rem;
      background-color: white;
      cursor: pointer;
    }

    &__back {
      background-image: url('./basics/icons/sprite/sprite.svg');

      @extend .a-ui-icon--ui-ic-left;

      &:hover {

        @extend .a-ui-icon--ui-ic-left-hover;
      }

      &--disabled {
        background-image: url('./basics/icons/sprite/sprite.svg');

        @extend .a-ui-icon--ui-ic-left-disabled;
      }
    }
  }
}

// Iphone SE Wide
@media only screen and (max-width: 568px) and (min-width: 321px) {
  .m-lightbox {
    .a-box {
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
    }

    &__closeBar {
      z-index: 2;
      order: 1;
      display: flex;
      position: absolute;
      width: auto;
      background-color: white;
      height: 3rem;
      right: 0;
    }

    .a-image {
      overflow: visible;
    }

    &__controlBar {
      background-color: transparent;
      position: absolute;
      bottom: 0;

      &__btnWrapper {
        margin-left: auto;
      }
    }
  }
}

// Iphone SE Portrait
@media only screen and (max-width: 768px) {
  .m-lightbox {
    .a-box {
      display: flex;
      flex-direction: column;
      width: 100vw;
      height: 100vh;
      max-height: 100vh;
      margin: 0;
      padding: 0;
    }

    .a-image {
      height: calc(100% - 6rem);
      order: 2;

      &__ratioWrapper {
        display: flex;
        height: 100%;
        flex-direction: column;
        justify-content: center;

        img {
          height: auto;
          width: auto;
        }
      }

      figcaption {
        padding-right: 1rem;
        flex: 1;
        position: initial;
        order: 3;
      }
    }

    .collapsed {
      height: auto;
      max-height: none;
    }

    &__closeBar {
      order: 1;
      position: initial;
    }

    &__controlBar {
      order: 4;
      margin-top: auto;
      margin-bottom: 0;
    }
  }
}
